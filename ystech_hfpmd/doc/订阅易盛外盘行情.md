# 业务需求
易盛外盘行情订阅程序
* 输入：读取配置文件里的期货产品列表，
* 处理：每天定时启动, 订阅易盛外盘行情, 最多订阅100个合约。
* 输出：每天定时关闭，压缩归档行情文件。

# 非功能需求
* 在linux下运行的c++程序。
* 要考虑断线重连。如果能够提示订阅失败就更好了。
* 要有日志记录程序运行中的事件。
* 使用ansible部署行情订阅程序。


第一周
//JASON后面加数量文件 已做
//限制每种合约数量    已做
//去掉线程            已做
//登入参数            已做
//写入行情文件        已做（个别数据查看）

第二周           
//合约文件 记录到新的文件内              完成
//使用misc：log                          完成
//写入日志                               完成
   
第三周
//@%log???                               完成
//合约文件里期货没有到期日，有重复合约。 完成
//csv后缀                                完成
//脚本、配置等都在bin-centos里           完成
//linux下编译运行                        完成

第四周
//使用GIT                                完成
//dblmax，6位小数                        完成
//发布到服务器上，定时启动、停止         完成
//断线、销毁API，重新创建API/登录/订阅   完成
//每次启动一套文件，带上时间标志         完成
//csv文件间隔空行                        完成
//行情先进队列                           完成

第五周
//使用misc :线程读队列再写文件。         完成             
//使用misc :csv，                        完成
//订阅最近的合约                         完成
//文件打开一次                           完成
//特殊规则：隐含价格，                   完成
//有用的记录，                           
//中国的合约习惯                                      
//测试：涨跌停是否改变，价格大小排序。   
//结构体进队列传输                       完成           

//学习ansible部署行情订阅程序。


# 开发/调试环境
1. 测试环境：互联网地址，在测试程序里。
2. 生产环境：***后续***  
<pre>
    ystech开发机 ---> 易盛托管服务器 ---> 易晟外盘行情服务器
    需要开发人员的公钥。在yestech开发机和易盛托管服务器上创建用户。
    需要外盘行情生产环境。
</pre>

# 参考资料
1. 易盛行情API测试程序，包括：易盛行情API，内外盘行情测试环境。
2. ctp行情订阅程序。
3. misc代码包。
